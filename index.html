<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>LineFrame CAD - Ver.Beta01</title>
  <link rel="icon" type="image/svg+xml" href="favicon.svg">
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <!-- Left Toolbar -->
  <aside id="toolbar">
    <h2 data-i18n="tools">ツール</h2>
    <button id="btn-select" class="tool-btn active" data-tool="select" title="Select (V)">&#9654; <span data-i18n="select">選択</span></button>
    <button id="btn-member" class="tool-btn" data-tool="member" title="Member (M)">&#9474; <span data-i18n="member">部材</span></button>
    <button id="btn-surface" class="tool-btn" data-tool="surface" title="Surface (F)">&#9635; <span data-i18n="surface">面</span></button>
    <label class="grid-label">
      <span data-i18n="activeLayer">レイヤー</span>
      <select id="sel-active-layer"></select>
    </label>
    <label class="grid-label">
      <span data-i18n="draftMemberType">部材種別</span>
      <select id="sel-member-type">
        <option value="beam" data-i18n="beam">梁</option>
        <option value="column" data-i18n="column">柱</option>
        <option value="hbrace" data-i18n="hbrace">水平ブレース</option>
        <option value="vbrace" data-i18n="vbrace">垂直ブレース</option>
      </select>
    </label>
    <label class="grid-label">
      <span data-i18n="draftSurfaceType">面種別</span>
      <select id="sel-surface-type">
        <option value="floor" data-i18n="floor">床</option>
        <option value="wall" data-i18n="wall">壁</option>
      </select>
    </label>
    <label class="grid-label">
      <span data-i18n="surfaceMode">配置方法</span>
      <select id="sel-surface-mode">
        <option value="rect" data-i18n="rectMode">矩形</option>
        <option value="polyline" data-i18n="polylineMode">ポリライン</option>
      </select>
    </label>
    <label class="grid-label">
      <span data-i18n="loadDirection">荷重方向</span>
      <select id="sel-load-direction">
        <option value="x">X</option>
        <option value="y">Y</option>
        <option value="twoWay" data-i18n="twoWay">2方向</option>
      </select>
    </label>
    <label class="grid-label">
      <span data-i18n="topLayer">上端レイヤー</span>
      <select id="sel-top-layer"></select>
    </label>
    <hr>
    <label class="toggle-label">
      <input type="checkbox" id="chk-snap" checked>
      <span data-i18n="snap">スナップ</span>
    </label>
    <label class="grid-label">
      <span data-i18n="grid">グリッド</span>
      <select id="sel-grid">
        <option value="500">500 mm</option>
        <option value="1000" selected>1000 mm</option>
        <option value="2000">2000 mm</option>
      </select>
    </label>
    <hr>
    <button id="btn-export" title="Export JSON">&#128190; <span data-i18n="export">保存</span></button>
    <button id="btn-import-trigger" title="Import JSON">&#128194; <span data-i18n="import">読込</span></button>
    <input type="file" id="file-import" accept=".json" hidden>
    <hr>
    <button id="btn-theme">&#9790; <span data-i18n="themeDark">ダーク</span></button>
    <button id="btn-lang">&#127760; <span data-i18n="lang">EN</span></button>
    <button id="btn-help">&#10067; <span data-i18n="help">ヘルプ</span></button>
  </aside>

  <!-- Main Area -->
  <main id="main-area">
    <!-- View Tabs -->
    <nav id="view-tabs">
      <button id="tab-2d" class="tab-btn active" data-i18n="tab2d">2D CAD</button>
      <button id="tab-3d" class="tab-btn" data-i18n="tab3d">3D 表示</button>
    </nav>

    <!-- Canvas Container -->
    <div id="canvas-container">
      <canvas id="canvas-2d"></canvas>
      <div id="viewer-3d" hidden></div>
    </div>

    <!-- Status Bar -->
    <footer id="status-bar">
      <span id="status-coords">X: 0  Y: 0</span>
      <span id="status-snap" data-i18n="snapOn">スナップ: ON</span>
      <span id="status-zoom">Zoom: 100%</span>
      <span id="status-tool" data-i18n="toolSelect">ツール: 選択</span>
      <span id="status-version">Ver.Beta01</span>
    </footer>
  </main>

  <!-- Right Property Panel -->
  <aside id="property-panel">
    <h2 data-i18n="properties">プロパティ</h2>
    <div id="prop-content">
      <p class="prop-placeholder" data-i18n="noSelection">未選択</p>
    </div>
  </aside>

  <!-- Help Modal -->
  <div id="help-modal" class="modal-overlay">
    <div class="modal-content">
      <div class="modal-header">
        <h2 data-i18n="helpTitle">簡易マニュアル</h2>
        <button id="btn-help-close" class="modal-close" data-i18n="helpClose">閉じる</button>
      </div>
      <div id="help-body" class="modal-body"></div>
    </div>
  </div>

  <script type="importmap">
  {
    "imports": {
      "three": "https://cdn.jsdelivr.net/npm/three@0.170.0/build/three.module.js",
      "three/addons/": "https://cdn.jsdelivr.net/npm/three@0.170.0/examples/jsm/"
    }
  }
  </script>
  <script type="module" src="js/app.js"></script>
</body>
</html>
